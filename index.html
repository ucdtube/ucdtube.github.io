<html>
<head>
  <link rel="stylesheet" href="style.css">
</head>
<body>
 <div id="main" style="text-align:center">


        <br></br>

        <button id="button" onclick="c1();">[ Category1 ]</button>
        <button id="button" onclick="c2();">[ Category2 ]</button>
        <button id="button" onclick="c3();">[ Category3 ]</button>


 </div>
</body>
  <script>

var video = document.createElement("video");
var main = document.getElementById('main');
var br = document.createElement("br");
var buttonSkip = document.createElement("button");
var buttonRestart = document.createElement("button");
var opacity = 0;
var intervalID;
var totalSeconds = 0;
var para = document.createElement("p");
var skipNumber = 0;


function c1() {
    setHTML();
    video.setAttribute("src","video1.MP4");
  }

function c2() {
    setHTML();
    video.setAttribute("src","video1.MP4");
    }

function c3() {
    setHTML();
      }

function setHTML(){
    main.innerHTML = "";
    video.setAttribute("width","1280");
    video.setAttribute("height","720");
    video.setAttribute("id","video");
    video.setAttribute("type","video/mp4");
    buttonSkip.setAttribute("onclick", "skip();");
    buttonSkip.innerHTML = "skipNumber";
    buttonSkip.setAttribute("id", "commands-skip");
    buttonSkip.setAttribute("class", "skip");
    buttonRestart.setAttribute("onclick", "restart();");
    buttonRestart.innerHTML = "[ DEBUG - GOTO END ]";
    buttonRestart.setAttribute("id", "commands");
    main.appendChild(br);
    main.appendChild(video);
    main.appendChild(br);

    main.appendChild(buttonRestart);

    main.appendChild(buttonSkip);

    video.autoplay = true;


    buttonSkip.style.display = "none";

    buttonSkip.style.display = "block";
    intervalID = setInterval(setTime, 1000);




}

function setHTML2(){
  var node = document.createTextNode("Number:  " + totalSeconds + "\u000a\u000a\u000a");
  var node2 = document.createTextNode("Please take a note of your number displayed above and return to the qualtrics window");
  para.appendChild(node);
  para.appendChild(node2)
  main.appendChild(para);


}



function skip() {
      buttonSkip.parentNode.removeChild(buttonSkip);
      clearInterval(intervalID);
      video.currentTime =  47;
      console.log("skipped");
}

function restart() {

      video.currentTime = 340;
      console.log(totalSeconds);
  }

  video.onended = function(e) {
    main.innerHTML = "";
    setHTML2();

  };

  function setTime() {
    ++totalSeconds;

  }

  </script>
</html>
