<html>
<head>
  <link rel="stylesheet" href="style.css">
</head>
<body>
 <div id="main" style="text-align:center">

       <br></br>

        <button id="button" onclick="c1();">[ Visual Movement ]</button>
        <button id="button" onclick="c2();">[ Geometrics ]</button>
        <button id="button" onclick="c3();">[ Animation ]</button>


 </div>
</body>
  <script>

var video = document.createElement("video");
var main = document.getElementById('main');
var br = document.createElement("br");
var buttonSkip = document.createElement("button");
//var buttonRestart = document.createElement("button");
var opacity = 0;
var intervalID;
var skipID;
var totalSeconds = 0;
var para = document.createElement("p");
var skipNumber = 5;


function c1() {
    setHTML();
    video.setAttribute("src","v1.mp4");
  }

function c2() {
    setHTML();
    video.setAttribute("src","v1.mp4");
    }

function c3() {
    setHTML();
    video.setAttribute("src","v1.mp4");
      }

function setHTML(){
    var skipNumberNode = document.createTextNode(skipNumber);
    main.innerHTML = "";
    video.setAttribute("width","1280");
    video.setAttribute("height","720");
    video.setAttribute("id","video");
    //video.setAttribute("allowFullscreen");
    video.setAttribute("type","video/mp4");
    buttonSkip.setAttribute("onclick", "skip();");
    buttonSkip.setAttribute("id", "skipButtonID");
    buttonSkip.innerHTML = "";
    buttonSkip.appendChild(skipNumberNode);
    buttonSkip.setAttribute("id", "commands-skip");
    buttonSkip.setAttribute("class", "skip");
    //buttonRestart.setAttribute("onclick", "restart();");
    //buttonRestart.innerHTML = "[  - GOTO END ]";
    //buttonRestart.setAttribute("id", "commands");
    main.appendChild(br);
    main.appendChild(video);
    main.appendChild(br);

    //main.appendChild(buttonRestart);

    main.appendChild(buttonSkip);

    video.autoplay = true;
    //video.allowFullscreen = true;


    buttonSkip.style.display = "none";

    buttonSkip.style.display = "block";
    buttonSkip.disabled = true;
    intervalID = setInterval(setTime, 1000);



    skipID = setInterval(skipTime, 1000);






}

function setHTML2(){
  var node = document.createTextNode("Number:  " + totalSeconds + "\u000a\u000a\u000a");
  var node2 = document.createTextNode("Please take a note of your number displayed above.\n You Can now exit full screen mode and return to the qualtrics window");
  para.appendChild(node);
  para.appendChild(node2)
  main.appendChild(para);


}



function skip() {
      buttonSkip.parentNode.removeChild(buttonSkip);
      clearInterval(intervalID);
      video.currentTime =  47;
      console.log("skipped");
}

function restart() {

      video.currentTime = 340;
      console.log(totalSeconds);
  }

  video.onended = function(e) {
    main.innerHTML = "";
    setHTML2();

  };

  function setTime() {
    ++totalSeconds;

  }

  function skipTime(){

    --skipNumber;
    skipNumberNode = document.createTextNode(skipNumber);
    buttonSkip.innerHTML = "";
    if(skipNumber == 0){
      skipNumberNode = document.createTextNode("[ Skip ]");
      buttonSkip.appendChild(skipNumberNode);
      buttonSkip.disabled = false;
      clearInterval(skipID);
    }else{
      buttonSkip.appendChild(skipNumberNode);
   }


  }

  </script>
</html>
